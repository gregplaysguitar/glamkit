<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>A Quick Overview &mdash; GLAMkit v0.1 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="GLAMkit v0.1 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">GLAMkit v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">A Quick Overview</a><ul>
<li><a class="reference external" href="#events-occurrences-and-occurrencegenerators">Events, Occurrences and OccurrenceGenerators</a></li>
<li><a class="reference external" href="#different-event-structures">Different event structures</a><ul>
<li><a class="reference external" href="#one-off-events">One-off Events</a></li>
<li><a class="reference external" href="#simple-recurring-events">Simple Recurring Events</a></li>
<li><a class="reference external" href="#complex-recurring-events">Complex Recurring Events</a></li>
<li><a class="reference external" href="#variable-occurrences">Variable Occurrences</a></li>
<li><a class="reference external" href="#cascading-occurrences">Cascading Occurrences</a></li>
</ul>
</li>
<li><a class="reference external" href="#persisted-occurrences">Persisted Occurrences</a></li>
</ul>
</li>
</ul>

            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/eventtools/overview.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="a-quick-overview">
<h1>A Quick Overview<a class="headerlink" href="#a-quick-overview" title="Permalink to this headline">¶</a></h1>
<p>Different institutions have event calendars of differing complexity. GLAMkit events attempts to cover all the possible scenarios. Before developing with GLAMkit events, you should spend some time <tt class="xref docutils literal"><span class="pre">determining</span> <span class="pre">what</span> <span class="pre">sort</span> <span class="pre">of</span> <span class="pre">schedule</span> <span class="pre">structure</span> <span class="pre">you</span> <span class="pre">need</span> <span class="pre">to</span> <span class="pre">model</span></tt>.</p>
<div class="section" id="events-occurrences-and-occurrencegenerators">
<h2>Events, Occurrences and OccurrenceGenerators<a class="headerlink" href="#events-occurrences-and-occurrencegenerators" title="Permalink to this headline">¶</a></h2>
<p>GLAMkit-events draws a distinction between <strong>events</strong>, and <strong>occurrences</strong> of those events. <strong>Events</strong> contain all the all the scheduling information <em>except</em> for the times and dates. <strong>Events</strong> know where, why and how things happen, but not when. <strong>OccurrenceGenerators</strong> contain all the <em>when</em> information. By combining the two, you can specify individual occurrences of an event. The best way to grasp this is with an example:</p>
<blockquote>
<p>Imagine a museum that has a tour for the blind every Sunday at 2pm. The tour always starts at the same place, costs the same amount etc. The only thing that changes is the date. You can define an event model which has field for storing all the non-time information. By making this model subclass EventBase, you get access to two</p>
<blockquote>
use an event model to store all the location, cost, and description information (the content that normally remains the same), an OccurrenceGenerator which specifies that the tour happens every Sunday at 2pm, and an occurrence model which handles each specific instance of the tour. The three model structure is handled transparently - you only need to define the event model.</blockquote>
</blockquote>
<dl class="docutils">
<dt>This separation into 3 models allows us to do some very cool things:</dt>
<dd><ul class="first last simple">
<li>we can specify complex repetition rules (eg. every Sunday at 2pm, unless it happens to be Easter Sunday, or Christmas day)</li>
<li>we can attach multiple repetition rules to the same event (eg. the same tour might also happen at 11am every weekday, except during December and January)</li>
<li>we can specify and end date for these repetition rules, or have them repeat infinitely</li>
<li>we can cancel or vary the timing of any specific occurrence irrespective of the underlying rules (eg. on Sunday January 17, 2010, the tour starts two hours earlier)</li>
<li>we can store special one-off information with any occurrence (eg. on Sunday January 24, 2010, the tour includes lunch)</li>
<li>we can access all this complexity through an intuitive Django admin interface</li>
</ul>
</dd>
</dl>
<p>Of course we can also handle ‘one-time’ events. These are simply events with an OccurrenceGenerator that only generates one occurrence</p>
</div>
<div class="section" id="different-event-structures">
<h2>Different event structures<a class="headerlink" href="#different-event-structures" title="Permalink to this headline">¶</a></h2>
<p>Let’s unpack this further by looking at some of the specific event strcutures that glamkit-events can model.</p>
<div class="section" id="one-off-events">
<h3>One-off Events<a class="headerlink" href="#one-off-events" title="Permalink to this headline">¶</a></h3>
<p>In this paradigm, each event occurs only once.</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head"></th>
<th class="head">Mon</th>
<th class="head">Tue</th>
<th class="head">Wed</th>
<th class="head">Thu</th>
<th class="head">Fri</th>
<th class="head">Sat</th>
<th class="head">Sun</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>9am</td>
<td>A</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>10am</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>11am</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>noon</td>
<td></td>
<td>C</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>G</td>
</tr>
<tr><td>1pm</td>
<td></td>
<td></td>
<td></td>
<td>D</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>2pm</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>3pm</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>E</td>
<td></td>
<td></td>
</tr>
<tr><td>4pm</td>
<td>B</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>5pm</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>F</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>In the table above, events A to G each have their own database record, with their own names, descriptions, durations, and any other data that belongs to each event. You might conceivably have relationships with other tables (eg. categories, locations, prices etc.), but the temporal structure of your schedule is very straightfoward, and can be modelled with a single database table (and hence a single Django model).</p>
<p>In this If these are the only seven events you have entered, then next week&#8217;s schedule will be empty.</p>
<p>If this is how your event schedule works, you&#8217;re lucky, you can build a workable schedule with a few simple Django models. Glamkit provides an EventBase model that provides a few useful methods, as well as some handy templatetags, and admin tweaks.</p>
</div>
<div class="section" id="simple-recurring-events">
<h3>Simple Recurring Events<a class="headerlink" href="#simple-recurring-events" title="Permalink to this headline">¶</a></h3>
<p>Now let&#8217;s add the concepts of recurring events.</p>
<p>This is where Glamkit events starts to hit its stride. As well as having a start and end time, events can also have rules that define how the event recurrs over time.</p>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head"></th>
<th class="head">Mon</th>
<th class="head">Tue</th>
<th class="head">Wed</th>
<th class="head">Thu</th>
<th class="head">Fri</th>
<th class="head">Sat</th>
<th class="head">Sun</th>
<th class="head">Mon</th>
<th class="head">Tue</th>
<th class="head">Wed</th>
<th class="head">Thu</th>
<th class="head">Fri</th>
<th class="head">Sat</th>
<th class="head">Sun</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>9am</td>
<td>A</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>A</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>10am</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>11am</td>
<td>B</td>
<td>B</td>
<td>B</td>
<td>B</td>
<td>B</td>
<td></td>
<td></td>
<td>B</td>
<td>B</td>
<td>B</td>
<td>B</td>
<td>B</td>
<td></td>
<td></td>
</tr>
<tr><td>noon</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>1pm</td>
<td></td>
<td></td>
<td></td>
<td>D</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>2pm</td>
<td>C</td>
<td></td>
<td>C</td>
<td></td>
<td>C</td>
<td></td>
<td>C</td>
<td></td>
<td>C</td>
<td></td>
<td>C</td>
<td></td>
<td>C</td>
<td></td>
</tr>
<tr><td>3pm</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>4pm</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>5pm</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>The schedule above could be achieved as follows:
Event A:</p>
</div>
<div class="section" id="complex-recurring-events">
<h3>Complex Recurring Events<a class="headerlink" href="#complex-recurring-events" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head"></th>
<th class="head">Mon</th>
<th class="head">Tue</th>
<th class="head">Wed</th>
<th class="head">Thu</th>
<th class="head">Fri</th>
<th class="head">Sat</th>
<th class="head">Sun</th>
<th class="head">Mon</th>
<th class="head">Tue</th>
<th class="head">Wed</th>
<th class="head">Thu</th>
<th class="head">Fri</th>
<th class="head">Sat</th>
<th class="head">Sun</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>9am</td>
<td>A</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>A</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>10am</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>11am</td>
<td>B</td>
<td>B</td>
<td>B</td>
<td>B</td>
<td>B</td>
<td></td>
<td></td>
<td>B</td>
<td>B</td>
<td>B</td>
<td>B</td>
<td>B</td>
<td></td>
<td></td>
</tr>
<tr><td>noon</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>1pm</td>
<td></td>
<td></td>
<td></td>
<td>D</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>2pm</td>
<td>B</td>
<td></td>
<td>B</td>
<td></td>
<td>B</td>
<td></td>
<td>B</td>
<td></td>
<td>B</td>
<td></td>
<td>B</td>
<td></td>
<td>B</td>
<td></td>
</tr>
<tr><td>3pm</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>4pm</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>5pm</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="variable-occurrences">
<h3>Variable Occurrences<a class="headerlink" href="#variable-occurrences" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head"></th>
<th class="head">Mon</th>
<th class="head">Tue</th>
<th class="head">Wed</th>
<th class="head">Thu</th>
<th class="head">Fri</th>
<th class="head">Sat</th>
<th class="head">Sun</th>
<th class="head">Mon</th>
<th class="head">Tue</th>
<th class="head">Wed</th>
<th class="head">Thu</th>
<th class="head">Fri</th>
<th class="head">Sat</th>
<th class="head">Sun</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>9am</td>
<td>A</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>A</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>10am</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>11am</td>
<td>B</td>
<td>B</td>
<td>B</td>
<td>B</td>
<td>B</td>
<td></td>
<td></td>
<td>B</td>
<td>B</td>
<td>B</td>
<td>B</td>
<td>B</td>
<td></td>
<td></td>
</tr>
<tr><td>noon</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>1pm</td>
<td></td>
<td></td>
<td></td>
<td>D</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>2pm</td>
<td>C</td>
<td></td>
<td>C</td>
<td></td>
<td>C</td>
<td></td>
<td>C</td>
<td></td>
<td></td>
<td></td>
<td>C</td>
<td></td>
<td>C</td>
<td></td>
</tr>
<tr><td>3pm</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>C</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>4pm</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>5pm</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="cascading-occurrences">
<h3>Cascading Occurrences<a class="headerlink" href="#cascading-occurrences" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head"></th>
<th class="head">Mon</th>
<th class="head">Tue</th>
<th class="head">Wed</th>
<th class="head">Thu</th>
<th class="head">Fri</th>
<th class="head">Sat</th>
<th class="head">Sun</th>
<th class="head">Mon</th>
<th class="head">Tue</th>
<th class="head">Wed</th>
<th class="head">Thu</th>
<th class="head">Fri</th>
<th class="head">Sat</th>
<th class="head">Sun</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>9am</td>
<td>A</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>A</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>10am</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>11am</td>
<td>B</td>
<td>B</td>
<td>B</td>
<td>B</td>
<td>B</td>
<td></td>
<td></td>
<td>B</td>
<td>B†</td>
<td>B</td>
<td>B</td>
<td>B</td>
<td></td>
<td></td>
</tr>
<tr><td>noon</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>1pm</td>
<td></td>
<td></td>
<td></td>
<td>D</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>2pm</td>
<td>C</td>
<td></td>
<td>C</td>
<td></td>
<td>C</td>
<td></td>
<td>C</td>
<td></td>
<td></td>
<td></td>
<td>C</td>
<td></td>
<td>C</td>
<td></td>
</tr>
<tr><td>3pm</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>C*</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>4pm</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td>5pm</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="persisted-occurrences">
<h2>Persisted Occurrences<a class="headerlink" href="#persisted-occurrences" title="Permalink to this headline">¶</a></h2>
<p>Occurrences are generated programatically. This is because we can not store all of the occurrences in the database, because there could be infinite occurrences. But we still want to be able to persist data about occurrences. Like, cancelling an occurrence, moving an occurrence, storing a list of attendees with the occurrence.  This is done lazily. An occurrence is generated programatically until it needs to be saved to the database. When you use any function to get an occurrence, it will be completely transparent whether it was generated programatically or whether it is persisted (except that persisted ones will have a <tt class="docutils literal"><span class="pre">pk</span></tt>).  Just treat them like they are persisted and you shouldn&#8217;t run into any trouble.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">GLAMkit v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2010, Thomas Ashelford.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.3.
    </div>
  </body>
</html>